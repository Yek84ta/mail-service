# ูุณุชูุฏุงุช ุฌุงูุน ูู ุณุฑูุณ

## ูุนุฑู ฺฉู ุณุณุชู
ูู ุณุฑูุณ ุงุฑุงุฆู ุดุฏู ฺฉ ุณุณุชู ูุฏุฑุช ุงูู ฺฉุงูู ุจุง ูุนูุงุฑ ฺูุฏูุงู ุงุณุช ฺฉู ูุงุจูุชโูุง ุฒุฑ ุฑุง ุงุฑุงุฆู ูโุฏูุฏ:

- **ุณุณุชู ุงุญุฑุงุฒ ููุช ุงูู** ุจุง ูุฏุฑุช ฺฉุงุฑุจุฑุงู ู ุฑูุฒูุง ุนุจูุฑ ูุด ุดุฏู
- **ูุฏุฑุช ฺฉุงูู ฺุฑุฎู ุญุงุช ุงูู** ุงุฒ ุงุฌุงุฏ ุชุง ุงุฑุณุงู ู ุฐุฎุฑูโุณุงุฒ
- **ูุฏุฑุช ฺฏุฑูุฏฺฏุงู** ุจุง ูุงุจูุชโูุง ูพุดุฑูุชู ูุถุนุช ุฎูุงูุฏู/ุญุฐู
- **ุฑุงุจุท ฺฉุงุฑุจุฑ ุบู** ุจุง ุงุณุชูุงุฏู ุงุฒ Swing ุจุฑุง ููุงุด ู ูุฏุฑุช ุงููโูุง

## ูุนูุงุฑ ฺฉู ุณุณุชู
ุณุณุชู ุงุฒ ูุนูุงุฑ ุณู ูุงู ุงุณุชุงูุฏุงุฑุฏ ูพุฑู ูโฺฉูุฏ:

1. **ูุงู ููุงุด (Presentation Layer)**:
   - ุฑุงุจุท ฺฉุงุฑุจุฑ Swing ุจุง ฺฉุงููพูููุชโูุง ุณูุงุฑุด
   - ูุฏุฑุช ุฑูุฏุงุฏูุง ู ุชุนุงูู ฺฉุงุฑุจุฑ

2. **ูุงู ููุทู ฺฉุณุจโูฺฉุงุฑ (Business Logic Layer)**:
   - ุณุฑูุณโูุง ฺฉุงุฑุจุฑ ู ุงูู
   - ุงุนุชุจุงุฑุณูุฌโูุง ู ููุงูู ฺฉุณุจโูฺฉุงุฑ
   - ูุฏุฑุช ุชุฑุงฺฉูุดโูุง

3. **ูุงู ุฏุณุชุฑุณ ุจู ุฏุงุฏู (Data Access Layer)**:
   - ุงุฑุชุจุงุท ุจุง ูพุงฺฏุงู ุฏุงุฏู ุงุฒ ุทุฑู Hibernate
   - ููุฌูุฏุชโูุง JPA ู ุฑุงุจุทโูุง Repository
   - ูุฏุฑุช ูุดุณุช ู ุชุฑุงฺฉูุดโูุง ูพุงฺฏุงู ุฏุงุฏู

## ุชฺฉููููฺโูุง ฺฉูุฏ
- **ุฌุงูุง 8+** ุจู ุนููุงู ุฒุจุงู ุงุตู
- **Hibernate** ุจุฑุง ORM ู ูุฏุฑุช ูพุงฺฏุงู ุฏุงุฏู
- **Swing** ุจุฑุง ุฑุงุจุท ฺฉุงุฑุจุฑ
- **MySQL** ุจู ุนููุงู ุณุณุชู ูุฏุฑุช ูพุงฺฏุงู ุฏุงุฏู
- **Maven** ุจุฑุง ูุฏุฑุช ูุงุจุณุชฺฏโูุง

## ูฺฺฏโูุง ูุชูุงุฒ
1. **ูุฏุฑุช ูพุดุฑูุชู ฺฏุฑูุฏฺฏุงู**:
   - ุงูฺฉุงู ุญุฐู ุงูุชุฎุงุจ ุงูู ุจุฑุง ูุฑ ฺฏุฑูุฏู
   - ุฑูฺฏุฑ ูุถุนุช ุฎูุงูุฏู ุดุฏู
   - ูุฏุฑุช ูุณุชูู ุตูุฏููโูุง ูุฑูุฏ ฺฉุงุฑุจุฑุงู

2. **ุงููุช**:
   - ูุด ฺฉุฑุฏู ุฑูุฒูุง ุนุจูุฑ ุจุง ุงูฺฏูุฑุชู SHA-256 ู ููฺฉ ุชุตุงุฏู
   - ุงุนุชุจุงุฑุณูุฌ ุฌุงูุน ูุฑูุฏโูุง
   - ฺฉูุชุฑู ุฏุณุชุฑุณ ุณุทุญ ุฏูู

3. **ุจูููโุณุงุฒโูุง**:
   - ุงูุฏฺฉุณโฺฏุฐุงุฑ ููุดููุฏ ุจุฑุง ฺฉูุฆุฑโูุง ูพุฑุชฺฉุฑุงุฑ
   - ุญุฐู ูุฑู ุจุฑุง ุจุงุฒุงุจ ุงุทูุงุนุงุช
   - ูุฏุฑุช ุงุชุตุงูุงุช ูพุงฺฏุงู ุฏุงุฏู

## ุฌุฑุงูโูุง ุงุตู ุณุณุชู

### ุฌุฑุงู ุงุฑุณุงู ุงูู
1. ุงุนุชุจุงุฑุณูุฌ ฺฏุฑูุฏฺฏุงู ู ูุญุชูุง
2. ุงุฌุงุฏ ุฑฺฉูุฑุฏ ุงูู ุงุตู
3. ุงุฌุงุฏ ุฑฺฉูุฑุฏูุง ฺฏุฑูุฏฺฏุงู
4. ุซุจุช ุฏุฑ ูพุงฺฏุงู ุฏุงุฏู ุจู ุตูุฑุช ุชุฑุงฺฉูุด

### ุฌุฑุงู ูุดุงูุฏู ุงูู
1. ุจุฑุฑุณ ูุฌูุฒูุง ุฏุณุชุฑุณ
2. ุจูโุฑูุฒุฑุณุงู ูุถุนุช ุฎูุงูุฏู ุดุฏู
3. ุจุงุฒุงุจ ูุญุชูุง ุงูู
4. ููุงุด ุฏุฑ ุฑุงุจุท ฺฉุงุฑุจุฑ

## ุฑุงูโุงูุฏุงุฒ ู ูพฺฉุฑุจูุฏ
ุณุณุชู ูุงุฒููุฏ ูพฺฉุฑุจูุฏ ุงููู ุดุงูู:
- ุชูุธูุงุช ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู
- ุชูุธูุงุช Connection Pool
- ูพฺฉุฑุจูุฏ ุณุณุชู ูุงฺฏูฺฏ
- ุชูุธู ูพุงุฑุงูุชุฑูุง ุงููุช

# ูุณุชูุฏุงุช ุฌุงูุน ูพฺฉุฌ ูู ุณุฑูุณ

## ููุฑุณุช ูุทุงูุจ
1. [ูุนุฑู ฺฉู](#ูุนุฑู-ฺฉู)
2. [ูุนูุงุฑ ุณุณุชู](#ูุนูุงุฑ-ุณุณุชู)
3. [ูุฏู ุฏุงุฏูโูุง](#ูุฏู-ุฏุงุฏูโูุง)
4. [ุณุฑูุณโูุง ุงุตู](#ุณุฑูุณโูุง-ุงุตู)
5. [ูฺฉุงูุฒูโูุง ุงููุช](#ูฺฉุงูุฒูโูุง-ุงููุช)
6. [ุงูฺฏููุง ุทุฑุงุญ](#ุงูฺฏููุง-ุทุฑุงุญ)
7. [ูุญุฏูุฏุชโูุง ู ุงุนุชุจุงุฑุณูุฌโูุง](#ูุญุฏูุฏุชโูุง-ู-ุงุนุชุจุงุฑุณูุฌโูุง)
8. [ููููู ฺฉุฏูุง ฺฉุงุฑุจุฑุฏ](#ููููู-ฺฉุฏูุง-ฺฉุงุฑุจุฑุฏ)
9. [ูููุฏุงุฑูุง ฺฉูฺฉ](#ูููุฏุงุฑูุง-ฺฉูฺฉ)

## ูุนุฑู ฺฉู
ูพฺฉุฌ `aut.ap.mail` ฺฉ ุณุณุชู ูุฏุฑุช ุงูู ุฌุงูุน ุจุง ูุงุจูุชโูุง ุฒุฑ ุงุฑุงุฆู ูโุฏูุฏ:

- ุงุฑุณุงู ู ุฏุฑุงูุช ุงูู
- ูุฏุฑุช ุตูุฏููโูุง ูุฑูุฏุ ุงุฑุณุงูโูุง ู ุณุทู ุฒุจุงูู
- ูพุงุฏูโุณุงุฒ ุนููุงุช ูพุงุณุฎ ู ุงุฑุณุงู ูุฌุฏุฏ
- ูุฏุฑุช ูุถุนุช ุฎูุงูุฏู ุดุฏู ุงููโูุง
- ุณุณุชู ุจุงุฒุงุจ ุงุฒ ุณุทู ุฒุจุงูู

## ูุนูุงุฑ ุณุณุชู
ุณุณุชู ุงุฒ ูุนูุงุฑ ุณู ูุงู ุงุณุชุงูุฏุงุฑุฏ ูพุฑู ูโฺฉูุฏ:

```
+-------------------+
|   ูุงู ููุงุด     |
+-------------------+
         |
         v
+-------------------+
|   ูุงู ุณุฑูุณ     |
|  - MailService    |
|  - MailValidation |
+-------------------+
         |
         v
+-------------------+
| ูุงู ุฏุณุชุฑุณ ุฏุงุฏู |
|  - MailRepository |
|  - Entities       |
+-------------------+
```

### ุชูุถุญ ููุฌูุฏุชโูุง ุงุตู

1. **Mail**:
   - ูฺฏูุฏุงุฑูุฏู ุงุทูุงุนุงุช ุงุตู ุงูู
   - ุฑุงุจุทู ฺฉ ุจู ฺูุฏ ุจุง MailRecipient
   - ุญุงู ูุชุง ุฏุงุฏูโูุง ุงุฑุณุงู

2. **MailRecipient**:
   - ูุฏุฑุช ูุถุนุช ฺฏุฑูุฏฺฏุงู
   - ูพุงุฏูโุณุงุฒ ุจุง ฺฉูุฏ ูุฑฺฉุจ (Mail + User)
   - ุฑูฺฏุฑ ูุถุนุช ุฎูุงูุฏู ุดุฏู ู ุญุฐู

3. **MailDto**:
   - ุงูฺฏู DTO ุจุฑุง ุงูุชูุงู ุฏุงุฏูโูุง ุงูู
   - ุณุงุฒูุฏู (Builder) ุฑูุงู ุจุฑุง ุงุฌุงุฏ ูููููโูุง

## ุณุฑูุณโูุง ุงุตู

### 1. ูุฏุฑุช ุงููโูุง
- **ุงุฑุณุงู ุงูู ุฌุฏุฏ**:
  - ุงุนุชุจุงุฑุณูุฌ ฺฏุฑูุฏฺฏุงู
  - ุชููุฏ ฺฉุฏ ููุญุตุฑ ุจู ูุฑุฏ
  - ูุฏุฑุช ุชุฑุงฺฉูุดโูุง ูพุงฺฏุงู ุฏุงุฏู

- **ุฏุฑุงูุช ุงูู**:
  - ุจุฑุฑุณ ูุฌูุฒูุง ุฏุณุชุฑุณ
  - ุจู ุฑูุฒุฑุณุงู ูุถุนุช ุฎูุงูุฏู ุดุฏู

### 2. ูุฏุฑุช ุตูุฏููโูุง
| ุตูุฏูู        | ูุชุฏ ูุฑุจูุทู                  | ููุชุฑูุง ุงุตู                 |
|--------------|----------------------------|-------------------------------|
| ูุฑูุฏ        | `findInboxForUser()`       | isDeleted=false               |
| ุงุฑุณุงูโูุง     | `findSentForUser()`        | isDeleted=false               |
| ุฎูุงูุฏู ูุดุฏู  | `findUnreadForUser()`      | isRead=false, isDeleted=false |
| ุณุทู ุฒุจุงูู    | `findTrashForUser()`       | isDeleted=true                |

### 3. ุนููุงุช ูฺู
- **ูพุงุณุฎ ุจู ุงูู (Reply)**:
  - ุงุถุงูู ฺฉุฑุฏู ูพุดููุฏ "Re:" ุจู ููุถูุน
  - ุชูุธู ุฎูุฏฺฉุงุฑ ฺฏุฑูุฏฺฏุงู

- **ุงุฑุณุงู ูุฌุฏุฏ (Forward)**:
  - ุงุถุงูู ฺฉุฑุฏู ูพุดููุฏ "Fw:" ุจู ููุถูุน
  - ุญูุธ ูุญุชูุง ุงุตู ุจุง ูุฑูุช ุงุณุชุงูุฏุงุฑุฏ

## ูฺฉุงูุฒูโูุง ุงููุช

1. **ุงุนุชุจุงุฑุณูุฌโูุง**:
   - ุจุฑุฑุณ ุนุฏู ุงุฑุณุงู ุจู ุฎูุฏ (`validateNotSendingToSelf`)
   - ุงุนุชุจุงุฑุณูุฌ ูุฑูุช ุงูู ฺฏุฑูุฏฺฏุงู
   - ุจุฑุฑุณ ูุญุฏูุฏุช ุทูู ููุฏูุง

2. **ฺฉูุชุฑู ุฏุณุชุฑุณ**:
   - ุจุฑุฑุณ ูุงูฺฉุช ุงูู ูุจู ุงุฒ ุนููุงุช
   ```java
   boolean isSender = (mail.getSender().getId()) == (currentUser.getId());
   boolean isRecipient = mail.getRecipients().stream()
           .anyMatch(r -> r.getId() == currentUser.getId());
   ```

3. **ูุฏุฑุช ุชุฑุงฺฉูุดโูุง**:
   - ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู Transaction Owner
   - Rollback ุฎูุฏฺฉุงุฑ ุฏุฑ ุตูุฑุช ุฎุทุง

## ุงูฺฏููุง ุทุฑุงุญ

1. **Repository Pattern**:
   - ุฌุฏุงุณุงุฒ ฺฉุงูู ููุทู ุฏุณุชุฑุณ ุจู ุฏุงุฏูโูุง
   - ูุชุฏูุง ุงุณุชุงูุฏุงุฑุฏ CRUD

2. **Builder Pattern**:
   - ุฏุฑ ฺฉูุงุณ MailDto ุจุฑุง ุณุงุฎุช ุดุก ูพฺุฏู
   ```java
   MailDto dto = MailDto.builder()
       .id(1)
       .subject("Test")
       .senderEmail("user@example.com")
       .build();
   ```

3. **DTO Pattern**:
   - ุงูุชูุงู ุฏุงุฏูโูุง ุงูู ุจู ูุงูโูุง
   - ุฌููฺฏุฑ ุงุฒ ุงุฑุณุงู ุฏุงุฏูโูุง ุญุณุงุณ

## ูุญุฏูุฏุชโูุง ู ุงุนุชุจุงุฑุณูุฌโูุง

| ููุฑุฏ                 | ูุญุฏูุฏุช                  | ูุชุฏ ุงุนุชุจุงุฑุณูุฌ            |
|----------------------|-------------------------|--------------------------|
| ุทูู ููุถูุน            | ุญุฏุงฺฉุซุฑ 255 ฺฉุงุฑุงฺฉุชุฑ      | `validateSubject()`      |
| ุทูู ูุชู ุงูู        | ุญุฏุงฺฉุซุฑ 10000 ฺฉุงุฑุงฺฉุชุฑ    | `validateBody()`         |
| ุชุนุฏุงุฏ ฺฏุฑูุฏฺฏุงู       | ุญุฏุงฺฉุซุฑ 50 ููุฑ           | `validateRecipients()`   |
| ูุฑูุช ุงูู           | ุงุณุชุงูุฏุงุฑุฏ RFC 5322      | ุงูฺฏู REGEX              |
| ุชุงุฑุฎ ุงุฑุณุงู          | ููโุชูุงูุฏ ุฏุฑ ุขูุฏู ุจุงุดุฏ | `validateSentDate()`     |


# ูุณุชูุฏุงุช ูพฺฉุฌ ุงุญุฑุงุฒ ููุช ฺฉุงุฑุจุฑ

## ูุนุฑู

ุงู ูพฺฉุฌ ุงูฺฉุงูุงุช ุงุญุฑุงุฒ ููุช ฺฉุงุฑุจุฑุงู ุฑุง ุจุฑุง ุณุฑูุณ ูู (Milo) ูุฑุงูู ูโฺฉูุฏุ ุดุงูู:

- ุซุจุช ูุงู ฺฉุงุฑุจุฑ
- ูุฑูุฏ ุจู ุณุณุชู
- ูุฏุฑุช ฺฏุฐุฑูุงฺูโูุง

## ุณุงุฎุชุงุฑ ูพฺฉุฌ

```
aut.ap.user/
โโโ PasswordHasher.java      - ูุฏุฑุช ูุด ฺฉุฑุฏู ู ุชุฃุฏ ฺฏุฐุฑูุงฺู
โโโ User.java                - ููุฌูุฏุช ฺฉุงุฑุจุฑ ุฏุฑ ุณุณุชู
โโโ UserRepository.java      - ูุงู ุฏุณุชุฑุณ ุจู ุฏุงุฏูโูุง ฺฉุงุฑุจุฑ
โโโ UserService.java         - ููุทู ฺฉุณุจ ู ฺฉุงุฑ ฺฉุงุฑุจุฑุงู
โโโ UserValidation.java      - ุงุจุฒุงุฑูุง ุงุนุชุจุงุฑุณูุฌ ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ
```

## ุงุฌุฒุง ุงุตู

### 1. PasswordHasher

ูุณุฆูู ูุด ฺฉุฑุฏู ุงูู ฺฏุฐุฑูุงฺูโูุง ุจุง ุงุณุชูุงุฏู ุงุฒ SHA-256 ู ููฺฉ (salt).

**ูฺฺฏโูุง:**
- ุชููุฏ ููฺฉ ุชุตุงุฏู ุจุฑุง ูุฑ ฺฏุฐุฑูุงฺู
- ุงุณุชูุงุฏู ุงุฒ ุงูฺฏูุฑุชู SHA-256
- ุฐุฎุฑู ููฺฉ ู ูุด ุจู ุตูุฑุช ุชุฑฺฉุจ (ููฺฉ:ูุด)
- ุงูฺฉุงู ุชุฃุฏ ฺฏุฐุฑูุงฺู

### 2. ููุฌูุฏุช User

ููุงุด ุฏููุฏู ฺฉุงุฑุจุฑ ุฏุฑ ุณุณุชู ุจุง ุญุงุดูโููุณโูุง JPA ุจุฑุง ุฐุฎุฑู ุฏุฑ ูพุงฺฏุงู ุฏุงุฏู.

**ููุฏูุง:**
- `id`: ุดูุงุณู ฺฉุชุง (ุชููุฏ ุฎูุฏฺฉุงุฑ)
- `name`: ูุงู ฺฉุงูู ฺฉุงุฑุจุฑ
- `email`: ุขุฏุฑุณ ุงูู ฺฉุชุง (ุจุฑุง ูุฑูุฏ ุจู ุณุณุชู)
- `passwordHash`: ฺฏุฐุฑูุงฺู ูุด ุดุฏู ุจุง ููฺฉ

### 3. UserRepository

ูุงู ุฏุณุชุฑุณ ุจู ุฏุงุฏูโูุง ุจุฑุง ุนููุงุช ฺฉุงุฑุจุฑุงู.

**ูุชุฏูุง:**
- `save()`: ุฐุฎุฑู ฺฉุงุฑุจุฑ ุฌุฏุฏ
- `findByEmail()`: ุงูุชู ฺฉุงุฑุจุฑ ุจุง ุงูู
- `findById()`: ุงูุชู ฺฉุงุฑุจุฑ ุจุง ุดูุงุณู
- `existsByEmail()`: ุจุฑุฑุณ ูุฌูุฏ ุงูู ุฏุฑ ุณุณุชู

### 4. UserService

ูุงู ููุทู ฺฉุณุจ ู ฺฉุงุฑ ุจุฑุง ุนููุงุช ฺฉุงุฑุจุฑุงู.

**ุนููฺฉุฑุฏ ุงุตู:**
- `registerUser()`: ุซุจุช ูุงู ฺฉุงุฑุจุฑ ุฌุฏุฏ
  - ุงุนุชุจุงุฑุณูุฌ ุงููุ ฺฏุฐุฑูุงฺู ู ูุงู
  - ุจุฑุฑุณ ุชฺฉุฑุงุฑ ูุจูุฏู ุงูู
  - ูุด ฺฉุฑุฏู ฺฏุฐุฑูุงฺู ูุจู ุงุฒ ุฐุฎุฑู
- `loginUser()`: ุงุญุฑุงุฒ ููุช ฺฉุงุฑุจุฑ
  - ุชุฃุฏ ุงูู ู ฺฏุฐุฑูุงฺู
  - ุจุฑฺฏุฑุฏุงูุฏู ฺฉุงุฑุจุฑ ุฏุฑ ุตูุฑุช ุชุทุงุจู
- `findByEmail()`: ุงูุชู ฺฉุงุฑุจุฑ ุจุง ุงูู

### 5. UserValidation

ุงุนุชุจุงุฑุณูุฌ ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ.

**ููุงูู ุงุนุชุจุงุฑุณูุฌ:**
- **ุงูู**:
  - ูุจุงุฏ ุฎุงู ุจุงุดุฏ
  - ุจุงุฏ ูุงูุจ ุงุณุชุงูุฏุงุฑุฏ ุงูู ุฑุง ุฏุงุดุชู ุจุงุดุฏ
- **ฺฏุฐุฑูุงฺู**:
  - ุญุฏุงูู ธ ฺฉุงุฑุงฺฉุชุฑ
  - ุญุฏุงูู ฺฉ ุนุฏุฏ
  - ุญุฏุงูู ฺฉ ุญุฑู ฺฉูฺฺฉ
  - ุญุฏุงูู ฺฉ ุญุฑู ุจุฒุฑฺฏ
- **ูุงู**:
  - ูุจุงุฏ ุฎุงู ุจุงุดุฏ

# Milou Mail Service - ูุณุชูุฏุงุช ูู ุฌุงูุน

## ูฺฺฏโูุง ฺฉูุฏ

### ูุฏุฑุช ฺฉุงุฑุจุฑุงู
- ุณุณุชู ุงุญุฑุงุฒ ููุช ุงูู
- ุซุจุช ูุงู ฺฉุงุฑุจุฑ ุฌุฏุฏ ุจุง ุงุนุชุจุงุฑุณูุฌ
- ูุฑูุช ุฎูุฏฺฉุงุฑ ุงูู (ูพุดุชุจุงู ุงุฒ both@milou.com ู milou@domain.com)
- ูุฏุฑุช ูุดุณุช ฺฉุงุฑุจุฑ

### ุนููฺฉุฑุฏูุง ุงูู
- **ุงุฑุณุงู ุงูู**:
  - ูพุดุชุจุงู ุงุฒ ฺูุฏู ุฏุฑุงูุช ฺฉููุฏู
  - ุงุนุชุจุงุฑุณูุฌ ฺฏุฑูุฏูโูุง
  - ุชููุฏ ฺฉุฏ ููุญุตุฑ ุจู ูุฑุฏ ุจุฑุง ูุฑ ุงูู
- **ูุฏุฑุช ุงููโูุง**:
  - ุตูุฏูู ูุฑูุฏ ุจุง ูุงุจูุช ููุชุฑ (ุฎูุงูุฏู ุดุฏู/ูุดุฏู)
  - ุงููโูุง ุงุฑุณุงู
  - ุณุทู ุฒุจุงูู ุจุง ุงูฺฉุงู ุจุงุฒุงุจ
- **ุนููุงุช ุฑู ุงูู**:
  - ูพุงุณุฎ (Reply) ุจุง ุญูุธ ุชุงุฑุฎฺู
  - ุงุฑุณุงู ูุฌุฏุฏ (Forward)
  - ุนูุงูุช ฺฏุฐุงุฑ ุจู ุนููุงู ุฎูุงูุฏู ุดุฏู
  - ุญุฐู ู ุจุงุฒุงุจ

### ุฑุงุจุท ฺฉุงุฑุจุฑ
- ุทุฑุงุญ ูุงฺฉูุดโฺฏุฑุง ุจุง Swing
- ููุงุด ูุณุช ุงููโูุง ุจุง ุฑูุฏุฑุฑ ุณูุงุฑุด
- ุณุณุชู ุชูุฒ ู ุฑูฺฏุงุฑูฺฏ
- ููุงุด ุฌุฒุฆุงุช ฺฉุงูู ูุฑ ุงูู

## ูุนูุงุฑ ุณุณุชู

### ุฏุงฺฏุฑุงู ูุนูุงุฑ
```
+-------------------+     +-------------------+     +-------------------+
|   Presentation    |     |    Business       |     |    Data Access    |
|   Layer (GUI)     |<--->|    Logic Layer    |<--->|    Layer          |
+-------------------+     +-------------------+     +-------------------+
        |                                                  |
        |                                                  |
        v                                                  v
+-------------------+                             +-------------------+
|    Swing UI       |                             |    Database       |
|   Components      |                             |    (via Hibernate)|
+-------------------+                             +-------------------+
```

### ูุงูโูุง ุณุณุชู
1. **ูุงู ููุงุด (Presentation)**:
   - `Application.java`: ฺฉูุงุณ ุงุตู ุฑุงุจุท ฺฉุงุฑุจุฑ
   - `ContentPanel.java`: ูุฏุฑุช ูุญุชูุง ุงุตู
   - `SidebarPanel.java`: ููุงุฑ ฺฉูุงุฑ ุจุฑูุงูู
   - `MailListRenderer.java`: ุฑูุฏุฑุฑ ุณูุงุฑุด ูุณุช ุงููโูุง

2. **ูุงู ููุทู ฺฉุณุจโูฺฉุงุฑ**:
   - `MailService.java`: ุณุฑูุณโูุง ูุฑุจูุท ุจู ุงูู
   - `UserService.java`: ุณุฑูุณโูุง ูุฑุจูุท ุจู ฺฉุงุฑุจุฑุงู

3. **ูุงู ุฏุณุชุฑุณ ุจู ุฏุงุฏู**:
   - `HibernateUtil.java`: ุชูุธูุงุช Hibernate
   - DAOูุง ุงุฎุชุตุงุต

## ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ

### Application.java
ฺฉูุงุณ ุงุตู ุจุฑูุงูู ฺฉู ูุณุฆููุชโูุง ุฒุฑ ุฑุง ุจุฑ ุนูุฏู ุฏุงุฑุฏ:
- ูุฏุฑุช ฺุฑุฎู ุญุงุช ุจุฑูุงูู
- ููุงุด ุตูุญุงุช ูุฑูุฏ ู ุซุจุช ูุงู
- ูุฏุฑุช ูุถุนุช ฺฉุงุฑุจุฑ ุฌุงุฑ
- ููุงููฺฏ ุจู ฺฉุงููพูููุชโูุง ูุฎุชูู
- ูุฏุฑุช ุฑูุฏุงุฏูุง ู ุชุนุงููุงุช ฺฉุงุฑุจุฑ

**ูุชุฏูุง ฺฉูุฏ**:
- `initializeLoginScreen()`: ุงุฌุงุฏ ุฑุงุจุท ฺฉุงุฑุจุฑ ูุฑูุฏ
- `initializeMainApplication()`: ุฑุงูโุงูุฏุงุฒ ุฑุงุจุท ุงุตู ูพุณ ุงุฒ ูุฑูุฏ
- `handleLogin()/handleSignup()`: ูุฏุฑุช ุงุญุฑุงุฒ ููุช
- `loadInbox()/loadSentMails()/loadTrashMails()`: ุจุงุฑฺฏุฐุงุฑ ุงููุงุน ุงููโูุง
- `showMailContent()`: ููุงุด ูุญุชูุง ฺฉุงูู ุงูู

### ContentPanel.java
ูพูู ูพูุง ููุงุด ูุญุชูุง ุจุง ูุงุจูุชโูุง:
- ููุงุด ุตูุญู ุฎูุดโุขูุฏฺฏู
- ุชุนูุถ ูพูุง ูุญุชูุง ุจุง ูุชุฏ `setContent()`
- ูพุดุชุจุงู ุงุฒ ุงุณฺฉุฑูู

### SidebarPanel.java
ููุงุฑ ฺฉูุงุฑ ุดุงูู ุฏฺฉููโูุง ุงุตู ุจุง ูฺฺฏโูุง:
- ุทุฑุงุญ ูุงฺฉูุดโฺฏุฑุง
- ุฑูฺฏโุจูุฏ ูุนูุงุฏุงุฑ ุจุฑุง ูุฑ ุจุฎุด
- ุชุฑุงุฒุจูุฏ ููุงุณุจ

### MailListRenderer.java
ุฑูุฏุฑุฑ ุณูุงุฑุด ุจุฑุง JList ุจุง ูฺฺฏโูุง:
- ููุงุด ฺูุงุฑ ุจุฎุด ุงุทูุงุนุงุช: ููุถูุนุ ูุฑุณุชูุฏูุ ุชุงุฑุฎ ู ูุถุนุช
- ุชูุงุฒ ุงููโูุง ุฎูุงูุฏู ูุดุฏู (ุจููุฏ ู ุจุฑฺุณุจ NEW)
- ุฑูฺฏโุจูุฏ ููุงุณุจ ุจุฑุง ุญุงูุช ุงูุชุฎุงุจ ุดุฏู

## ูุณุชูุฏุงุช ูู

### ูุฏูโูุง ุฏุงุฏู
- **MailDto**: ูุฏู ุงูุชูุงู ุฏุงุฏู ุจุฑุง ููุงุด ุงููโูุง ุฏุฑ ูุณุช
- **User**: ูุฏู ฺฉุงุฑุจุฑุงู ุณุณุชู

### ุณุฑูุณโูุง
- **MailService**: ุนููุงุช ูุฑุจูุท ุจู ุงููโูุง
- **UserService**: ุนููุงุช ูุฑุจูุท ุจู ฺฉุงุฑุจุฑุงู

### ฺฉุงููพูููุชโูุง UI
- **JList**: ุจุฑุง ููุงุด ูุณุช ุงููโูุง ุจุง ุฑูุฏุฑุฑ ุณูุงุฑุด
- **JTabbedPane**: ุจุฑุง ุชุจโูุง ูุฑูุฏ/ุซุจุช ูุงู
- **JTextArea**: ุจุฑุง ูุญุชูุง ุงูู ุจุง ูุงุจูุช ุฎุทโุดฺฉู

## ูุงฺฏโฺฏุฑ ู ุนุจโุงุจ
ุณุณุชู ุงุฒ java.util.logging ุจุฑุง ูุงฺฏโฺฏุฑ ุงุณุชูุงุฏู ูโฺฉูุฏ:
- ูุงฺฏโูุง ุฏุฑ ูุงู `milou.log` ุฐุฎุฑู ูโุดููุฏ
- ุณุทุญ ูุงฺฏโฺฏุฑ: INFO ุจู ุจุงูุง
- ูุฑูุช ูุงฺฏ: ุชุงุฑุฎ + ุณุทุญ + ูพุงู + ุงุณุชฺฉ ุชุฑุณ


# ูุณุชูุฏุงุช ูพุงฺฏุงู ุฏุงุฏู ุณุฑูุณ ุงูู

## ุณุงุฎุชุงุฑ ูพุงฺฏุงู ุฏุงุฏู
# **ุฑุฏู ุญุฑููโุง ุจุฑุง ูุงู ุฏุชุงุจุณ ูู ุณุฑูุณ**  

## ** ูุนุฑู**  
ุงู ูุงู SQL ุจุฎุด ุงุฒ ฺฉ **ุณุฑูุณ ุงูู (Mail Service)** ุงุณุช ฺฉู ุณุงุฎุชุงุฑ ุฏุชุงุจุณ ููุฑุฏ ูุงุฒ ุจุฑุง ูุฏุฑุช ฺฉุงุฑุจุฑุงูุ ุงููโูุง ุงุฑุณุงู ู ุฏุฑุงูุชโฺฉููุฏฺฏุงู ุฑุง ุชุนุฑู ูโฺฉูุฏ.  

---

## ** ุณุงุฎุชุงุฑ ุฏุชุงุจุณ**  
### **1. ุฌุฏูู `users`**  
- **ฺฉุงุฑุจุฑุฏ:** ุฐุฎุฑูโุณุงุฒ ุงุทูุงุนุงุช ฺฉุงุฑุจุฑุงู  
- **ููุฏูุง:**  
  - `id` (ฺฉูุฏ ุงุตู)  
  - `name` (ูุงู ฺฉุงุฑุจุฑ)  
  - `email` (ุขุฏุฑุณ ุงููุ ููุญุตุฑุจูโูุฑุฏ)  
  - `password_hash` (ุฑูุฒ ุนุจูุฑ ูุดโุดุฏู)  
  - `created_at` ู `updated_at` (ุชุงุฑุฎ ุงุฌุงุฏ ู ุขุฎุฑู ุชุบุฑ)  

### **2. ุฌุฏูู `mails`**  
- **ฺฉุงุฑุจุฑุฏ:** ุฐุฎุฑูโุณุงุฒ ุงููโูุง ุงุฑุณุงูโุดุฏู  
- **ููุฏูุง:**  
  - `id` (ฺฉูุฏ ุงุตู)  
  - `code` (ฺฉุฏ ฺฉุชุง ุจุฑุง ุดูุงุณุง ุงูู)  
  - `sender_id` (ุงุฑุณุงูโฺฉููุฏูุ ุจุง ฺฉูุฏ ุฎุงุฑุฌ ุจู `users.id`)  
  - `subject` (ููุถูุน ุงูู)  
  - `body` (ูุชู ุงูู)  
  - `sent_date` (ุชุงุฑุฎ ุงุฑุณุงู)  
  - `is_deleted` (ุขุง ุงูู ุญุฐู ุดุฏูุ)  
  - `deleted_at` ู `deleted_by_id` (ุชุงุฑุฎ ุญุฐู ู ฺฉุงุฑุจุฑ ุญุฐูโฺฉููุฏู)  

### **3. ุฌุฏูู `mail_recipients`**  
- **ฺฉุงุฑุจุฑุฏ:** ูุฏุฑุช ุฏุฑุงูุชโฺฉููุฏฺฏุงู ูุฑ ุงูู  
- **ููุฏูุง:**  
  - `mail_id` (ฺฉูุฏ ุฎุงุฑุฌ ุจู `mails.id`)  
  - `recipient_id` (ฺฉูุฏ ุฎุงุฑุฌ ุจู `users.id`)  
  - `is_read` (ุขุง ุงูู ุฎูุงูุฏู ุดุฏูุ)  
  - `is_deleted` (ุขุง ุงูู ุจุฑุง ุงู ฺฉุงุฑุจุฑ ุญุฐู ุดุฏูุ)  
  - `deleted_at` (ุชุงุฑุฎ ุญุฐู)  
- **ฺฉูุฏ ุงุตู ุชุฑฺฉุจ:** (`mail_id`, `recipient_id`)  
- **ุงูุฏฺฉุณ:** ุจุฑุง ุจูููโุณุงุฒ ฺฉูุฆุฑโูุง ุจุฑุฑุณ ูุถุนุช ุฎูุงูุฏูโุดุฏู (`idx_mail_recipients_read`)  

---

## ** ูฺฉุงุช ูู**  
 **ุจูููโุณุงุฒ ุจุง ุงูุฏฺฉุณ:**  
- ุงูุฏฺฉุณ `idx_mail_recipients_read` ุจุฑุง ุจูุจูุฏ ุนููฺฉุฑุฏ ุฏุฑ ุจุฑุฑุณ ูุถุนุช ุฎูุงูุฏูโุดุฏู ุงููโูุง ุงุณุชูุงุฏู ุดุฏู ุงุณุช.  

 **ูุฏุฑุช ุญุฐู ูุฑู (Soft Delete):**  
- ูุฑ ุฏู ุฌุฏูู `mails` ู `mail_recipients` ุงุฒ **ุญุฐู ูุฑู** (`is_deleted` + `deleted_at`) ูพุดุชุจุงู ูโฺฉููุฏ.  

 **ุฑูุงุจุท ุจู ุฌุฏุงูู:**  
- **ุงุฑุณุงูโฺฉููุฏู (`sender_id`)** ุฏุฑ ุฌุฏูู `mails` ุจู `users.id` ูุชุตู ุงุณุช.  
- **ุฏุฑุงูุชโฺฉููุฏฺฏุงู (`recipient_id`)** ุฏุฑ ุฌุฏูู `mail_recipients` ุจู `users.id` ูุชุตู ูุณุชูุฏ.  

 **ูพุงฺฉโุณุงุฒ ุฎูุฏฺฉุงุฑ ุจุง `ON DELETE`:**  
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ุญุฐู ุดูุฏุ ุงููโูุง ุงุฑุณุงูโุดุฏู ุงู (`ON DELETE CASCADE`) ู ูุถุนุช ุฏุฑุงูุชโฺฉููุฏฺฏุงู (`ON DELETE CASCADE`) ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ูพุงฺฉ ูโุดููุฏ.  

---

## ** ฺฉุงุฑุจุฑุฏ ุฏุฑ ูพุฑูฺู ูู ุณุฑูุณ**  
๐น **ุงุฑุณุงู ุงูู:** ุฐุฎุฑูโุณุงุฒ ุงูู ุฌุฏุฏ ุฏุฑ `mails` ู ุซุจุช ุฏุฑุงูุชโฺฉููุฏฺฏุงู ุฏุฑ `mail_recipients`.  
๐น **ุตูุฏูู ูุฑูุฏ:** ููุงุด ุงููโูุง ุฏุฑุงูุช ุจุง ูุถุนุช `is_read` ู `is_deleted`.  
๐น **ูุฏุฑุช ุญุฐู ุงูู:** ุงูฺฉุงู ุญุฐู ูุฑู ุจุฑุง ุงุฑุณุงูโฺฉููุฏู ู ุฏุฑุงูุชโฺฉููุฏู ุจูโุตูุฑุช ุฌุฏุงฺฏุงูู.  

---

# HibernateUtil - ุงุจุฒุงุฑ ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู ุจุง Hibernate

## ุชูุถุญุงุช
ุงู ฺฉูุงุณ ฺฉ ุงุจุฒุงุฑ ฺฉูฺฉ ุจุฑุง ูุฏุฑุช ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู ุจุง ุงุณุชูุงุฏู ุงุฒ Hibernate ุฏุฑ ุจุฑูุงููโูุง ุฌุงูุง ูโุจุงุดุฏ.

## ูฺฺฏโูุง ฺฉูุฏ
- ุงุฌุงุฏ ู ูุฏุฑุช `SessionFactory` ุจู ุตูุฑุช Singleton
- ูพฺฉุฑุจูุฏ ุฎูุฏฺฉุงุฑ ุงุฒ ุทุฑู ูุงู `hibernate.cfg.xml`
- ูุฏุฑุช ุตุญุญ ููุงุจุน ุจุง ูุชุฏ `shutdown()`
- ุฎุทุงุงุจ ููุงุณุจ ุฏุฑ ุตูุฑุช ุนุฏู ููููุช ุฏุฑ ุงุฌุงุฏ SessionFactory


## ูฺฉุงุช ููู
- ุงู ฺฉูุงุณ ุจู ุตูุฑุช thread-safe ุทุฑุงุญ ุดุฏู ุงุณุช.
- ุฏุฑ ุจุฑูุงููโูุง ุชุญุช ูุจุ ุจูุชุฑ ุงุณุช ุงุฒ ุทุฑู Listener ุฏุฑ ุฒูุงู ุฑุงูโุงูุฏุงุฒ ู ุชููู ุจุฑูุงููุ ูุชุฏูุง ูุฑุจูุทู ูุฑุงุฎูุงู ุดููุฏ.
- ุฏุฑ ุตูุฑุช ูุงุฒ ุจู ูพฺฉุฑุจูุฏ ูพูุงุ ูโุชูุงู ูุชุฏ `buildSessionFactory()` ุฑุง ุชุบุฑ ุฏุงุฏ.

## ููููู ูุงู ูพฺฉุฑุจูุฏ
ูุงู `hibernate.cfg.xml` ุจุงุฏ ุดุงูู ุชูุธูุงุช ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู ู ูุงูพูฺฏ ููุฌูุฏุชโูุง ุจุงุดุฏ.


# ููุงุจุน ูพุฑูฺู ูู ุณุฑูุณ

## ูพฺฉุฑุจูุฏ ูพุงฺฏุงู ุฏุงุฏู (Hibernate)

ูุงู `hibernate.cfg.xml` ุดุงูู ุชูุธูุงุช ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู ู ูพฺฉุฑุจูุฏ Hibernate ูโุจุงุดุฏ:

### ูุดุฎุตุงุช ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู
- **ุฏุฑุงูุฑ:** MySQL (ูุณุฎู JDBC)
- **URL ุงุชุตุงู:** `jdbc:mysql://denali.liara.cloud:32261/mail_db`
- **ูุงู ฺฉุงุฑุจุฑ:** root
- **ุฑูุฒ ุนุจูุฑ:** ูุญุงูุธุช ุดุฏู

### ุชูุธูุงุช ูพุดุฑูุชู
- **ุงูุฏุงุฒู Connection Pool:** 5 ุงุชุตุงู ููุฒูุงู
- **ุฏุงูฺฉุช:** MySQL8 ุจุฑุง ุณุงุฒฺฏุงุฑ ุจุง ูฺฺฏโูุง ุฎุงุต MySQL ูุณุฎู 8
- **ุญุงูุช ุฎูุฏฺฉุงุฑ Commit:** ุบุฑูุนุงู ุจุฑุง ฺฉูุชุฑู ุจูุชุฑ ุชุฑุงฺฉูุดโูุง

### ุชูุธูุงุช ููุงุด ฺฉูุฆุฑโูุง
- ููุงุด ฺฉูุฆุฑโูุง SQL ุฏุฑ ุฎุฑูุฌ
- ูุงูุจโุจูุฏ ู ูุงูุงุช ฺฉูุฆุฑโูุง ุจุฑุง ุฎูุงูุง ุจูุชุฑ

### ูฺฏุงุดุช ฺฉูุงุณโูุง ููุฌูุฏุช
- User (ูุฏู ฺฉุงุฑุจุฑ)
- Mail (ูุฏู ุงูู)
- MailRecipient (ูุฏู ุฏุฑุงูุชโฺฉููุฏฺฏุงู ุงูู)

## ูพฺฉุฑุจูุฏ ุณุณุชู ูุงฺฏูฺฏ (Log4j2)

ูุงู `log4j2.properties` ุชูุธูุงุช ุณุณุชู ูุงฺฏูฺฏ ูพุฑูฺู ุฑุง ูุฏุฑุช ูโฺฉูุฏ:

### ุณุทูุญ ูุงฺฏูฺฏ
- **ูุงฺฏโูุง ุนููู:** ุณุทุญ INFO
- **ูุงฺฏโูุง Hibernate SQL:** ุณุทุญ DEBUG
- **ูุงฺฏโูุง ูพุงุฑุงูุชุฑูุง SQL:** ุณุทุญ TRACE
- **ูุงฺฏโูุง ุงุฎุชุตุงุต ุจุฑูุงูู:** ุณุทุญ DEBUG

### ูุฑูุช ุฎุฑูุฌ
- ููุงุด ุฒูุงูุ ูุงู threadุ ุณุทุญ ูุงฺฏุ ูุงู logger ู ูพุงู
- ูุงูุงุช ุณุทูุญ ูุฎุชูู ูุงฺฏ ุจุฑุง ุชุดุฎุต ุขุณุงูโุชุฑ

ุงู ุชูุธูุงุช ุจู ุชูุณุนูโุฏููุฏฺฏุงู ฺฉูฺฉ ูโฺฉูุฏ ุชุง:
- ุฎุทุงูุง ูพุงฺฏุงู ุฏุงุฏู ุฑุง ุจู ุณุฑุนุช ุชุดุฎุต ุฏููุฏ
- ุนููฺฉุฑุฏ ฺฉูุฆุฑโูุง ุฑุง ุจุฑุฑุณ ฺฉููุฏ
- ุฌุฑุงู ุงุฌุฑุง ุจุฑูุงูู ุฑุง ุฏูุจุงู ฺฉููุฏ
- ูุดฺฉูุงุช ุงุญุชูุงู ุฑุง ุนุจโุงุจ ููุงูุฏ
- 
## ูฺฉุงุช ููู

1. **ุงููุช**: ุฑูุฒ ุนุจูุฑ ุฏุชุงุจุณ ุจุงุฏ ุฏุฑ ูุญุท ุนููุงุช ุงุฒ ุทุฑู ูุชุบุฑูุง ูุญุท ุง ุณุฑูุณ ูุฏุฑุช ุฑุงุฒูุง ูุญุงูุธุช ุดูุฏ.
2. **ููุงุณโูพุฐุฑ**: ุชูุธูุงุช connection pool ููฺฉู ุงุณุช ูุงุฒ ุจู ุชูุธู ุฏููโุชุฑ ุจุฑ ุงุณุงุณ ุจุงุฑ ฺฉุงุฑ ุฏุงุดุชู ุจุงุดุฏ.
3. **ูุงฺฏโฺฏุฑ**: ุฏุฑ ูุญุท ุชููุฏุ ุณุทุญ trace ููฺฉู ุงุณุช ุจุงุนุซ ุญุฌู ุจุงูุง ูุงฺฏโูุง ุดูุฏ.



